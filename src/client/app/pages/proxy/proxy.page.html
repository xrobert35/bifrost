<div class="flex-column">

  <form [formGroup]="proxyForm" class="flex-row col-center static panel" (ngSubmit)="submitProxy()">
    <div class="flex-row col-end">
      <asi-input labelPosition="left" label="Name" labelPosition="top" formControlName="name"></asi-input>
      <asi-input labelPosition="left" label="Path" labelPosition="top" formControlName="path"></asi-input>
      <asi-input labelPosition="left" label="Proxy Path" labelPosition="top" formControlName="proxyPass"></asi-input>
      <!-- add -->
      <asi-button type="submit" *ngIf="!editedProxy" class="icon-action-button">
        <i class="fas fa-plus-circle"></i>
        <span>Add</span>
      </asi-button>
      <!-- valid edit -->
      <asi-button type="submit" class="icon-action-button" *ngIf="editedProxy">
        <i class="fas fa-edit"></i>
        <span>Update</span>
      </asi-button>
      <!-- cancel edit -->
      <asi-button (click)="endEditProxy()" class="icon-action-button" *ngIf="editedProxy">
        <i class="fas fa-ban"></i>
        <span>Cancel</span>
      </asi-button>
    </div>

  </form>

  <asi-table #containersTable [autoSort]="true" [selectionModel]="proxysSelectionModel" [onRequestData]="refreshTable">

    <asi-table-column name="proxified" type="checkbox" columnClass="check-col"></asi-table-column>

    <asi-table-column name="name" libelle="Name" [sortable]="true" columnClass="name-col">
      <asi-cell *asiCellDef="let proxy">
        <span> {{proxy.name }} </span>
      </asi-cell>
    </asi-table-column>

    <asi-table-column name="proxy" libelle="Proxy - Path" columnClass="proxypath-col">
      <asi-cell *asiCellDef="let proxy">
        <span> {{proxy.path }} </span>
      </asi-cell>
    </asi-table-column>

    <asi-table-column name="proxy" libelle="ProxyPass" [sortable]="true" columnClass="proxypass-col">
      <asi-cell *asiCellDef="let proxy">
        <span> {{proxy.proxyPass }} </span>
      </asi-cell>
    </asi-table-column>

    <asi-table-column name="action" libelle="" columnClass="action-col">
      <asi-cell *asiCellDef="let proxy" class="flex-row static center">
        <asi-button id="proxy_edit" class="icon-action-button" (click)="startEditProxy(proxy)">
          <i class="far fa-edit"></i>
          <span>edit</span>
        </asi-button>
        <asi-button id="proxy_delete" class="icon-action-button" (click)="deleteProxy(proxy)">
          <i class="far fa-trash-alt"></i>
          <span>delete</span></asi-button>
      </asi-cell>
    </asi-table-column>
  </asi-table>
</div>

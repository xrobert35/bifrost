<div class="flex-row end col-center stack-action">
  <!-- start -->
  <button id="stack_start" type="button" class="small-icon-action-button clickable" (click)="startSelectedContainers()">
    <i class="g-play"></i>
  </button>
  <!-- stop -->
  <button id="stack_stop" type="button" class="small-icon-action-button clickable" (click)="stopSelectedContainers()">
    <i class="g-stop"></i>
  </button>
  <!-- update -->
  <button id="stack_delete" type="button" class="small-icon-action-button clickable"
    (click)="updateSelectedContainers()">
    <i class="g-update"></i>
  </button>
  <!-- delete -->
  <button id="stack_delete" type="button" class="small-icon-action-button clickable"
    (click)="deleteSelectedContainers()">
    <i class="far fa-trash-alt"></i>
  </button>
</div>


<asi-table #containersTable [identifier]="stack.name" [autoSort]="true" [autoPaginate]="true" [nbElementParPage]="10"
  [selectionModel]="containerSelectionModel" [onRequestData]="refreshTable">
  <!-- checkbox -->
  <asi-table-column name="proxified" type="checkbox" columnClass="check-col"></asi-table-column>
  <!-- state -->
  <asi-table-column name="state" libelle="" sortName="State" [sortable]="true" columnClass="state-col">
    <asi-cell *asiCellDef="let container">
      <asi-fa-icon *ngIf="!container.loading" icon="fa fa-power-off" [ngClass]="container.State"></asi-fa-icon>
      <asi-fa-icon *ngIf="container.loading" icon="fa fa-spin fa-sync"></asi-fa-icon>
    </asi-cell>
  </asi-table-column>
  <!-- info -->
  <asi-table-column name="info" libelle="Info" columnClass="info-col">
    <asi-cell *asiCellDef="let container">
      <asi-fa-icon icon="fa fa-info-circle" size="1x" [tooltip]="container.tooltip"></asi-fa-icon>
    </asi-cell>
  </asi-table-column>
  <!-- name -->
  <asi-table-column name="name" libelle="Name" [sortable]="true">
    <asi-cell *asiCellDef="let container">
      <div class="flex-row col-center">
        <span>{{ container.name }}</span>
      </div>
    </asi-cell>
  </asi-table-column>
  <!-- image -->
  <asi-table-column name="image" libelle="Image">
    <asi-cell *asiCellDef="let container">
      <div class="flex-row col-center">
        <span>{{container.imageName}}</span>
      </div>
    </asi-cell>
  </asi-table-column>
  <!-- port -->
  <asi-table-column name="port" libelle="Port" columnClass="port-col">
    <asi-cell *asiCellDef="let container">
      <span *ngFor="let port of container.Ports" [hidden]="!port.PublicPort">
        {{port.PrivatePort + ':' + port.PublicPort}}</span>
    </asi-cell>
  </asi-table-column>
  <!-- action -->
  <asi-table-column name="action" libelle="action" columnClass="action-col">
    <asi-cell *asiCellDef="let container" class="flex-row">
      <button id="docker_add_proxy" class="small-icon-action-button" (click)="addNewProxy(container)">
        <i class="fas fa-random"></i>
      </button>
      <button id="docker_add_proxy" class="small-icon-action-button" (click)="showLogs(container)">
        <i class="far fa-file-alt"></i>
      </button>
    </asi-cell>
  </asi-table-column>
</asi-table>
